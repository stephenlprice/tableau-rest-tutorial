{
	"info": {
		"_postman_id": "6ea8f572-30b3-4873-b1fc-c10b13917f8a",
		"name": "REST Tutorial",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Sign In",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Body contains expected strings\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"credentials token\");",
							"    pm.expect(pm.response.text()).to.include(\"contentUrl\");",
							"    pm.expect(pm.response.text()).to.include(\"site id\");",
							"    pm.expect(pm.response.text()).to.include(\"user id\");",
							"});",
							"",
							"// convert the XML response body to JSON",
							"const jsonObject = xml2Json(pm.response.text());",
							"",
							"// obtain the API Key and Site ID from the response body",
							"const apiKey = jsonObject.tsResponse.credentials.$.token;",
							"const siteId = jsonObject.tsResponse.credentials.site.$.id;",
							"",
							"// set the variables to the returned value",
							"pm.collectionVariables.set(\"api-key\", apiKey);",
							"pm.collectionVariables.set(\"site-id\", siteId);",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"pm.collectionVariables.unset(\"api-key\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n    <credentials name=\"{{username}}\" password=\"{{password}}\">\n        <site contentUrl=\"{{content-url}}\" />\n    </credentials>\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/auth/signin",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"auth",
						"signin"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n    <credentials name=\"stellopricint@gmail.com\" password=\"SZ27uO3Zw*u#1BB\">\n        <site contentUrl=\"stelloprintdev574523\" />\n    </credentials>\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/auth/signin",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"auth",
								"signin"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Sat, 04 Sep 2021 05:17:17 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Set-Cookie",
							"value": "hid=10axpd-hap02; domain=.10ax.online.tableau.com; path=/; HttpOnly; Secure; SameSite=None"
						},
						{
							"key": "Set-Cookie",
							"value": "AWSELB=3DAB357D1283FCCC77AA83D08989B29DE92E63276AE77AD4EE133E11E6F8E8568C0C008FC516BFCBA963679DF38E2D1FF97BC1EC851C57FE6C409ADFBB0D01C8DEC732B8A5F64809065F8EB34318B654D2E3D02F6F;PATH=/;DOMAIN=.10ax.online.tableau.com;SECURE;HTTPONLY;SAMESITE=None"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "345"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <credentials token=\"6civCv0aRFycoHs0viSf5A|C95WANAcLYVVvFCv0PpIhClhf8DMNK4V\">\n        <site id=\"035f25c8-6649-4a59-95da-b6a07c9246e1\" contentUrl=\"YOUR-SITE-SLUG\"/>\n        <user id=\"8cb5dc8e-a419-45de-ba50-44bd4fe1093f\"/>\n    </credentials>\n</tsResponse>"
				},
				{
					"name": "401-001 Unauthorized",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n    <credentials name=\"stellopricint@gmail.com\" password=\"asa\">\n        <site contentUrl=\"stelloprintdev574523\" />\n    </credentials>\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/auth/signin",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"auth",
								"signin"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=UTF-8"
						},
						{
							"key": "Date",
							"value": "Sun, 05 Sep 2021 07:42:05 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "tableau_error_code",
							"value": "0x3FB56583"
						},
						{
							"key": "tableau_error_source",
							"value": "Client"
						},
						{
							"key": "tableau_service_name",
							"value": "vizportal"
						},
						{
							"key": "tableau_status_code",
							"value": "7"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "342"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <error code=\"401001\">\n        <summary>Signin Error</summary>\n        <detail>Error signing in to Tableau Server</detail>\n    </error>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Create Project",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// set variables to random values",
							"pm.collectionVariables.set(\"random-project\", \"{{$randomBs}}\");",
							"pm.collectionVariables.set(\"random-description\", \"{{$randomCatchPhrase}}\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"// convert the XML response body to JSON",
							"const jsonObject = xml2Json(pm.response.text());",
							"",
							"// obtain the new project ID from the response body",
							"const projectId = jsonObject.tsResponse.project.$.id;",
							"",
							"// set the variable to the returned value",
							"pm.collectionVariables.set(\"project-id\", projectId);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n\t<project\n\t  name=\"{{random-project}}\"\n\t  description=\"{{random-description}}\" />\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/projects",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"projects"
					]
				}
			},
			"response": [
				{
					"name": "201 Created",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<project\n\t  name=\"new-project-name\"\n\t  description=\"This is a new project\" />\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/projects",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"projects"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Sat, 04 Sep 2021 05:32:14 GMT"
						},
						{
							"key": "Location",
							"value": "/api/3.12/sites/8cb5dc8e-6649-45de-95da-44bd4fe1093f/projects/64c69330-3c56-4c1c-b288-d18ef9ace0db"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "504"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <project id=\"035f25c8-3c56-4a59-b288-d18ef9ace0db\" name=\"new-project-name\" description=\"This is a new project\" createdAt=\"2021-09-04T05:32:15Z\" updatedAt=\"2021-09-04T05:32:15Z\" contentPermissions=\"ManagedByOwner\">\n        <owner id=\"64c69330-a419-4c1c-ba50-b6a07c9246e1\"/>\n    </project>\n</tsResponse>"
				},
				{
					"name": "409-006 Resource Conflict",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<project\n\t  name=\"new-project-name\"\n\t  description=\"This is a new project\" />\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/projects",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"projects"
							]
						}
					},
					"status": "Conflict",
					"code": 409,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=UTF-8"
						},
						{
							"key": "Date",
							"value": "Sun, 05 Sep 2021 07:39:50 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "tableau_error_code",
							"value": "0x9109E0B8"
						},
						{
							"key": "tableau_error_source",
							"value": "NeedsClassification"
						},
						{
							"key": "tableau_service_name",
							"value": "vizportal"
						},
						{
							"key": "tableau_status_code",
							"value": "2"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "370"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <error code=\"409006\">\n        <summary>Resource Conflict</summary>\n        <detail>A project already exists with the name 'new-project-name'</detail>\n    </error>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Get Projects",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/projects",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"projects"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/projects",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"projects"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Sat, 04 Sep 2021 05:41:54 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "615"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <pagination pageNumber=\"1\" pageSize=\"100\" totalAvailable=\"4\"/>\n    <projects>\n        <project id=\"0a67d4a2-cab9-4701-b359-216939b8dd14\" name=\"default\" description=\"The default project that was automatically created by Tableau.\" createdAt=\"2021-04-27T07:23:47Z\" updatedAt=\"2021-04-27T07:23:47Z\" contentPermissions=\"ManagedByOwner\">\n            <owner id=\"a1b8222e-4393-4793-8bb9-1fef90b8dae3\"/>\n        </project>\n        <project id=\"9cd1f359-8c1f-4906-9f86-59a059f91827\" name=\"Samples\" description=\"This project includes automatically uploaded samples.\" createdAt=\"2021-04-27T07:23:52Z\" updatedAt=\"2021-04-27T07:23:52Z\" contentPermissions=\"ManagedByOwner\">\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\"/>\n        </project>\n        <project id=\"151f8294-f79b-4c81-adf8-51a83479c187\" name=\"Greenlight\" description=\"\" createdAt=\"2021-04-27T07:32:13Z\" updatedAt=\"2021-04-27T07:32:13Z\" contentPermissions=\"ManagedByOwner\">\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\"/>\n        </project>\n        <project id=\"64c69330-3c56-4c1c-b288-d18ef9ace0db\" name=\"new-project-name\" description=\"This is a new project\" createdAt=\"2021-09-04T05:32:15Z\" updatedAt=\"2021-09-04T05:32:15Z\" contentPermissions=\"ManagedByOwner\">\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\"/>\n        </project>\n    </projects>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Publish Workbook",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {
					"content-type": true
				}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "multipart/mixed; boundary=!boundary-string!",
						"type": "text"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "request_payload",
							"value": "<tsRequest>\n\t<workbook name=\"sample-workbook\" showTabs=\"true\" >\n\t\t<project id=\"e5f30f9a-e2a4-4cee-a4fe-82bba23466ad\"/>\n\t</workbook>\n</tsRequest>",
							"contentType": "text/xml",
							"description": "text component with publishing metadata",
							"type": "text"
						},
						{
							"key": "tableau_workbook",
							"contentType": "application/octet-stream",
							"description": "workbook to publish in the new project",
							"type": "file",
							"src": "greenlight.twbx"
						}
					],
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"workbooks"
					]
				},
				"description": "# Request Currently Unavailable\n\nThis is explained in [Tableau's documentation](https://help.tableau.com/current/api/rest_api/en-us/REST/rest_api_get_started_tutorial_part_2.htm#step-3-publish-a-workbook).\n\n>At this time, Postman and Tableau do not play well together on a technical issue having to do with mixed content types (this kind of request combines a text part, for the REST command, and a file part, for the workbook being published). Use cURL for this tutorial. Alternatively, you can use Tableau Desktop to publish MY_WORKBOOK.twbx, or use your Tableau Developer program sandbox to create a workbook."
			},
			"response": [
				{
					"name": "406-000 Not Acceptable",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<workbook name=\"sample-workbook\" showTabs=\"true\" >\n\t\t<project id={{project-id}}/>\n\t</workbook>\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"workbooks"
							]
						}
					},
					"status": "Not Acceptable",
					"code": 406,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=UTF-8"
						},
						{
							"key": "Date",
							"value": "Sun, 05 Sep 2021 07:54:16 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "tableau_error_code",
							"value": "0xE3C7443A"
						},
						{
							"key": "tableau_error_source",
							"value": "NeedsClassification"
						},
						{
							"key": "tableau_service_name",
							"value": "vizportal"
						},
						{
							"key": "tableau_status_code",
							"value": "2"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "351"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.13.xsd\">\n    <error code=\"406000\">\n        <summary>Bad Request</summary>\n        <detail>Content type 'application/xml' not supported</detail>\n    </error>\n</tsResponse>"
				},
				{
					"name": "400-000 Bad Request",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/mixed",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "Greenlight.twbx",
									"description": "workbook to publish in the new project",
									"type": "file",
									"src": "tableau-rest-api/publish-workbook/Greenlight.twbx"
								},
								{
									"key": "publish-workbook.xml",
									"description": "text component with publishing metadata",
									"type": "file",
									"src": "tableau-rest-api/publish-workbook/publish-workbook.xml"
								}
							],
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"workbooks"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=UTF-8"
						},
						{
							"key": "Date",
							"value": "Sun, 05 Sep 2021 08:17:39 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "tableau_error_code",
							"value": "0xE3C7443A"
						},
						{
							"key": "tableau_error_source",
							"value": "NeedsClassification"
						},
						{
							"key": "tableau_service_name",
							"value": "vizportal"
						},
						{
							"key": "tableau_status_code",
							"value": "2"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "348"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.13.xsd\">\n    <error code=\"400000\">\n        <summary>Bad Request</summary>\n        <detail>Payload is either malformed or incomplete</detail>\n    </error>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Get Workbooks",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"// convert the XML response body to JSON",
							"const jsonObject = xml2Json(pm.response.text());",
							"",
							"// obtain the workbooks array from the response body",
							"const workbooks = jsonObject.tsResponse.workbooks.workbook;",
							"",
							"// iterate through workbooks until a match with \"workbook-name\" is found",
							"for (let i = 0; i < workbooks.length; i++) {",
							"    if (workbooks[i].$.name === pm.collectionVariables.get(\"workbook-name\")) {",
							"        // the matching ID will be used for setting permissions in the next request",
							"        const sampleWorkbook = workbooks[i].$.id;",
							"        // set \"workbook-id\" to the ID of the matching workbook",
							"        pm.collectionVariables.set(\"workbook-id\", sampleWorkbook);",
							"    }",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"workbooks"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"workbooks"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Mon, 06 Sep 2021 05:54:58 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "1220"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <pagination pageNumber=\"1\" pageSize=\"100\" totalAvailable=\"7\"/>\n    <workbooks>\n        <workbook id=\"5c01a37f-5c63-4620-a850-c49716d36cfc\" name=\"Regional\" contentUrl=\"Regional\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/76652\" showTabs=\"true\" size=\"2\" createdAt=\"2021-04-27T07:23:53Z\" updatedAt=\"2021-05-04T21:16:08Z\" encryptExtracts=\"false\" defaultViewId=\"0bc687c4-2241-403e-8461-fe5d5665f170\">\n            <project id=\"9cd1f359-8c1f-4906-9f86-59a059f91827\" name=\"Samples\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"2e958302-1fe9-45b8-bb60-9971696fdd5d\" name=\"Superstore\" contentUrl=\"Superstore\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/76653\" showTabs=\"true\" size=\"1\" createdAt=\"2021-04-27T07:23:57Z\" updatedAt=\"2021-04-27T07:23:58Z\" encryptExtracts=\"false\" defaultViewId=\"25fa0007-4bd9-41d2-99c0-6988e3540d9d\">\n            <project id=\"9cd1f359-8c1f-4906-9f86-59a059f91827\" name=\"Samples\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"45022dec-ab7d-42fc-aa6c-c74bab58397f\" name=\"Profitability Dashboard\" description=\"\" contentUrl=\"ProfitabilityDashboard\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/76656\" showTabs=\"false\" size=\"1\" createdAt=\"2021-04-27T08:37:36Z\" updatedAt=\"2021-05-04T21:16:08Z\" encryptExtracts=\"false\" defaultViewId=\"60ee9fb4-46cf-4d15-9468-dc417bdef2c9\">\n            <project id=\"151f8294-f79b-4c81-adf8-51a83479c187\" name=\"Greenlight\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"16d3bf6d-7317-4213-a7af-1368ddfec9b6\" name=\"DataForest\" description=\"\" contentUrl=\"DataForest\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/77851\" showTabs=\"false\" size=\"1\" createdAt=\"2021-05-12T17:15:15Z\" updatedAt=\"2021-05-12T17:15:16Z\" encryptExtracts=\"false\" defaultViewId=\"0ffbf577-3ec9-4bb1-ba89-f8b53c7e4b73\">\n            <project id=\"151f8294-f79b-4c81-adf8-51a83479c187\" name=\"Greenlight\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"0dba94ff-4ee8-4338-bdd6-425047c61a7a\" name=\"Salesforce Dashboard Starters_ Opportunity Overview\" description=\"\" contentUrl=\"SalesforceDashboardStarters_OpportunityOverview\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/77852\" showTabs=\"false\" size=\"1\" createdAt=\"2021-05-12T17:15:58Z\" updatedAt=\"2021-05-12T17:18:27Z\" encryptExtracts=\"false\" defaultViewId=\"9f738771-62aa-44c0-9f57-a7e6d82a6704\">\n            <project id=\"151f8294-f79b-4c81-adf8-51a83479c187\" name=\"Greenlight\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"539223dd-375e-4f04-9a5a-af4786444aad\" name=\"Quarterly Cashflow\" description=\"\" contentUrl=\"QuarterlyCashflow\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/77853\" showTabs=\"false\" size=\"1\" createdAt=\"2021-05-12T17:19:48Z\" updatedAt=\"2021-05-12T17:19:48Z\" encryptExtracts=\"false\" defaultViewId=\"459e941b-0658-4952-9d5b-fb3baf1c8c22\">\n            <project id=\"151f8294-f79b-4c81-adf8-51a83479c187\" name=\"Greenlight\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n        <workbook id=\"b230f891-290b-46a2-a7cd-fc478e4b688f\" name=\"Regional Sample Workbook\" description=\"\" contentUrl=\"RegionalSampleWorkbook\" webpageUrl=\"https://10ax.online.tableau.com/#/site/stelloprintdev574523/workbooks/81929\" showTabs=\"false\" size=\"1\" createdAt=\"2021-07-18T20:22:01Z\" updatedAt=\"2021-07-18T20:22:02Z\" encryptExtracts=\"false\" defaultViewId=\"80b90bb7-a422-4fe1-a1d9-0dde506af750\">\n            <project id=\"0a67d4a2-cab9-4701-b359-216939b8dd14\" name=\"default\"/>\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" name=\"stellopricint@gmail.com\"/>\n            <tags/>\n            <dataAccelerationConfig accelerationEnabled=\"false\"/>\n        </workbook>\n    </workbooks>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Add Users",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n  <user name=\"{{$randomEmail}}\"\n        siteRole=\"Viewer\"\n        authSetting=\"ServerDefault\" />\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/users",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"users"
					]
				}
			},
			"response": [
				{
					"name": "201 Created",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n  <user name=\"{{$randomEmail}}\"\n        siteRole=\"Viewer\"\n        authSetting=\"ServerDefault\" />\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/users",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"users"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Mon, 06 Sep 2021 04:32:38 GMT"
						},
						{
							"key": "Location",
							"value": "/api/3.12/sites/8cb5dc8e-6649-45de-95da-44bd4fe1093f/users/bc38db02-a16b-43df-9f36-eb8507ee6e01"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "423"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <user authSetting=\"ServerDefault\" externalAuthUserId=\"3230118277-bbe1e7809bc94eb5a143b138b94c26ad\" id=\"bc38db02-a16b-43df-9f36-eb8507ee6e01\" name=\"gretchen.stark@gmail.com\" siteRole=\"Viewer\"/>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Create Group",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"// convert the XML response body to JSON",
							"const jsonObject = xml2Json(pm.response.text());",
							"",
							"// obtain the Group ID from the response body",
							"const groupId = jsonObject.tsResponse.group.$.id;",
							"",
							"console.log(groupId);",
							"",
							"// set the variables to the returned value",
							"pm.collectionVariables.set(\"group-id\", groupId);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n\t<group name=\"{{$randomCompanyName}}\" />\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/groups",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"groups"
					]
				}
			},
			"response": [
				{
					"name": "201 Created",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<group name=\"{{$randomCompanyName}}, {{$randomCompanySuffix}}\" />\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/groups",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"groups"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Mon, 06 Sep 2021 04:51:36 GMT"
						},
						{
							"key": "Location",
							"value": "/api/3.12/sites/8cb5dc8e-6649-45de-95da-44bd4fe1093f/groups/f5573c1d-fa23-440a-b92a-b14174a8533c"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "309"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <group id=\"f5573c1d-fa23-440a-b92a-b14174a8533c\" name=\"Maggio and Sons, LLC\"/>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Get Users",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"// convert the XML response body to JSON",
							"const jsonObject = xml2Json(pm.response.text());",
							"",
							"// obtain the user array from the response body",
							"const users = jsonObject.tsResponse.users.user;",
							"",
							"// iterate through the user array until a 'Viewer' user is found",
							"for (let i = 0; i < users.length; i++) {",
							"    let siteRole = users[i].$.siteRole;",
							"    if (siteRole === \"Viewer\") {",
							"        let userId = users[i].$.id;",
							"        // set the variable to the returned value",
							"        pm.collectionVariables.set(\"viewer-user-id\", userId);",
							"        return;",
							"    };",
							"};",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/users",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"users"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/users",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"users"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Mon, 06 Sep 2021 05:00:03 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "591"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <pagination pageNumber=\"1\" pageSize=\"100\" totalAvailable=\"3\"/>\n    <users>\n        <user authSetting=\"ServerDefault\" externalAuthUserId=\"3101358348-0e12a1498d2644b8a679f9aac21caa5a\" id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\" lastLogin=\"2021-09-06T04:37:06Z\" name=\"hannibal_li@tableau.com\" siteRole=\"SiteAdministratorCreator\" locale=\"\" language=\"en\"/>\n        <user authSetting=\"ServerDefault\" externalAuthUserId=\"4483222727-1715c8d1f2b94ea8a2b62441d171f8d5\" id=\"11f1bb76-5967-4e04-a41a-205a2f9ce8c0\" name=\"julio_heinreich22@yahoo.com\" siteRole=\"ExplorerCanPublish\" locale=\"\" language=\"en\"/>\n        <user authSetting=\"ServerDefault\" externalAuthUserId=\"3230118277-bbe1e7809bc94eb5a143b138b94c26ad\" id=\"bc38db02-a16b-43df-9f36-eb8507ee6e01\" name=\"gretchen.jones@gmail.com\" siteRole=\"Viewer\" locale=\"\" language=\"en\"/>\n    </users>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Add User to Group",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n\t<user id=\"{{viewer-user-id}}\" />\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/groups/{{group-id}}/users",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"groups",
						"{{group-id}}",
						"users"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<user id=\"{{viewer-user-id}}\" />\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/groups/{{group-id}}/users",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"groups",
								"{{group-id}}",
								"users"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Mon, 06 Sep 2021 05:38:29 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "301"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <user externalAuthUserId=\"3230118277-bbe1e7809bc94eb5a143b138b94c26ad\" id=\"bc38db02-a16b-43df-9f36-eb8507ee6e01\" name=\"gretchen.jones@gmail.com\" siteRole=\"Viewer\"/>\n</tsResponse>"
				}
			]
		},
		{
			"name": "Set Workbook Permissions",
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "<tsRequest>\n\t<permissions>\n\t\t<workbook id=\"{{workbook-id}}\" />\n\t\t<granteeCapabilities>\n\t\t\t<group id=\"{{group-id}}\" />\n\t\t\t<capabilities>\n\t\t\t\t<capability name=\"Read\" mode=\"Allow\" />\n\t\t\t\t<!-- ... additional capabilities ... -->\n\t\t\t</capabilities>\n\t\t</granteeCapabilities>\n\t</permissions>\n</tsRequest>",
					"options": {
						"raw": {
							"language": "xml"
						}
					}
				},
				"url": {
					"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks/{{workbook-id}}/permissions",
					"host": [
						"{{server-name}}"
					],
					"path": [
						"api",
						"{{api-version}}",
						"sites",
						"{{site-id}}",
						"workbooks",
						"{{workbook-id}}",
						"permissions"
					]
				}
			},
			"response": [
				{
					"name": "200 OK",
					"originalRequest": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<permissions>\n\t\t<workbook id=\"{{workbook-id}}\" />\n\t\t<granteeCapabilities>\n\t\t\t<group id=\"{{group-id}}\" />\n\t\t\t<capabilities>\n\t\t\t\t<capability name=\"Read\" mode=\"Allow\" />\n\t\t\t\t<!-- ... additional capabilities ... -->\n\t\t\t</capabilities>\n\t\t</granteeCapabilities>\n\t</permissions>\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks/{{workbook-id}}/permissions",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"workbooks",
								"{{workbook-id}}",
								"permissions"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Encoding",
							"value": "gzip"
						},
						{
							"key": "Content-Type",
							"value": "application/xml;charset=utf-8"
						},
						{
							"key": "Date",
							"value": "Tue, 07 Sep 2021 05:49:32 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Accept-Encoding"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "463"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <permissions>\n        <workbook id=\"bd1a8294-c3e2-4549-8b88-66cf27d50031\" name=\"sample-workbook\">\n            <owner id=\"035f25c8-a419-4a59-ba50-b6a07c9246e1\"/>\n        </workbook>\n        <granteeCapabilities>\n            <group id=\"1ea58fdd-5dbb-4a3f-92f4-4cdce9c805ab\"/>\n            <capabilities>\n                <capability name=\"Read\" mode=\"Allow\"/>\n            </capabilities>\n        </granteeCapabilities>\n        <granteeCapabilities>\n            <group id=\"1feeb77d-3951-486b-bdda-e8ee6c99890f\"/>\n            <capabilities>\n                <capability name=\"ShareView\" mode=\"Allow\"/>\n                <capability name=\"ViewComments\" mode=\"Allow\"/>\n                <capability name=\"ViewUnderlyingData\" mode=\"Allow\"/>\n                <capability name=\"ExportData\" mode=\"Allow\"/>\n                <capability name=\"Filter\" mode=\"Allow\"/>\n                <capability name=\"AddComment\" mode=\"Allow\"/>\n                <capability name=\"Read\" mode=\"Allow\"/>\n                <capability name=\"Write\" mode=\"Allow\"/>\n                <capability name=\"ExportImage\" mode=\"Allow\"/>\n            </capabilities>\n        </granteeCapabilities>\n    </permissions>\n</tsResponse>"
				},
				{
					"name": "409 Conflict",
					"originalRequest": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<tsRequest>\n\t<permissions>\n\t\t<workbook id=\"{{workbook-id}}\" />\n\t\t<granteeCapabilities>\n\t\t\t<group id=\"{{group-id}}\" />\n\t\t\t<capabilities>\n\t\t\t\t<capability name=\"Read\" mode=\"Deny\" />\n\t\t\t\t<!-- ... additional capabilities ... -->\n\t\t\t</capabilities>\n\t\t</granteeCapabilities>\n\t</permissions>\n</tsRequest>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{server-name}}/api/{{api-version}}/sites/{{site-id}}/workbooks/{{workbook-id}}/permissions",
							"host": [
								"{{server-name}}"
							],
							"path": [
								"api",
								"{{api-version}}",
								"sites",
								"{{site-id}}",
								"workbooks",
								"{{workbook-id}}",
								"permissions"
							]
						}
					},
					"status": "Conflict",
					"code": 409,
					"_postman_previewlanguage": "xml",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/xml;charset=UTF-8"
						},
						{
							"key": "Date",
							"value": "Tue, 07 Sep 2021 05:51:50 GMT"
						},
						{
							"key": "P3P",
							"value": "CP=\"NON\""
						},
						{
							"key": "Referrer-Policy",
							"value": "strict-origin-when-cross-origin"
						},
						{
							"key": "Server",
							"value": "Tableau"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000; includeSubDomains"
						},
						{
							"key": "tableau_error_code",
							"value": "0x9109E0B8"
						},
						{
							"key": "tableau_error_source",
							"value": "NeedsClassification"
						},
						{
							"key": "tableau_service_name",
							"value": "vizportal"
						},
						{
							"key": "tableau_status_code",
							"value": "2"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Tableau",
							"value": "Tableau Server"
						},
						{
							"key": "X-UA-Compatible",
							"value": "IE=Edge"
						},
						{
							"key": "X-XSS-Protection",
							"value": "1; mode=block"
						},
						{
							"key": "Content-Length",
							"value": "475"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "<?xml version='1.0' encoding='UTF-8'?>\n<tsResponse xmlns=\"http://tableau.com/api\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tableau.com/api http://tableau.com/api/ts-api-3.12.xsd\">\n    <error code=\"409008\">\n        <summary>Resource Conflict</summary>\n        <detail>Workbook 'bd1a8294-c3e2-4549-8b88-66cf27d50031' cannot have the capability 'Read' set for group '1ea58fdd-5dbb-4a3f-92f4-4cdce9c805ab' to both 'Allow' and 'Deny'.</detail>\n    </error>\n</tsResponse>"
				}
			]
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{api-key}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "X-Tableau-Auth",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/*",
					"    - This script will automatically generate a new API Key, avoiding the need to manually sign-in.",
					"    - Every request in this collection will run this script.",
					"    - To authenticate with different users, create separate environments with username, password and content-url variables",
					"*/",
					"",
					"// xml body used to authenticate and obtain an API Key",
					"const authBody = `<tsRequest>",
					"                    <credentials name=\"${pm.environment.get(\"username\")}\" password=\"${pm.environment.get(\"password\")}\">",
					"                        <site contentUrl=\"${pm.environment.get(\"content-url\")}\" />",
					"                    </credentials>",
					"                </tsRequest>`;",
					"",
					"// authenticate and obtain token value to be set as 'api-key' collection variable",
					"pm.sendRequest({",
					"    url: pm.collectionVariables.get(\"server-name\") + '/api/' + pm.collectionVariables.get(\"api-version\") + '/auth/signin',",
					"    method: 'POST',",
					"    header: {",
					"        'content-type': 'application/xml',",
					"    },",
					"    body: {",
					"        mode: 'raw',",
					"        raw: authBody,",
					"    }",
					"}, function (err, res) {",
					"    if (err) {",
					"        console.log(err);",
					"    } else {",
					"        pm.collectionVariables.unset(\"api-key\");",
					"        // convert the XML response body to JSON",
					"        const jsonObject = xml2Json(res.text());",
					"        // obtain the API Key from the response body",
					"        const apiKey = jsonObject.tsResponse.credentials.$.token;",
					"        // set the variables to the returned value",
					"        pm.collectionVariables.set(\"api-key\", apiKey);",
					"    };",
					"});",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "server-name",
			"value": "https://10ax.online.tableau.com"
		},
		{
			"key": "api-version",
			"value": "3.12"
		},
		{
			"key": "site-id",
			"value": ""
		},
		{
			"key": "api-key",
			"value": ""
		},
		{
			"key": "random-project",
			"value": ""
		},
		{
			"key": "project-id",
			"value": ""
		},
		{
			"key": "workbook-id",
			"value": ""
		},
		{
			"key": "workbook-name",
			"value": "sample-workbook"
		},
		{
			"key": "random-description",
			"value": ""
		},
		{
			"key": "group-id",
			"value": ""
		},
		{
			"key": "viewer-user-id",
			"value": ""
		}
	]
}